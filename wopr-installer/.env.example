# WOPR Control Plane Environment Configuration
# =============================================
#
# Copy this file to .env and fill in your values:
#   cp .env.example .env
#   chmod 600 .env
#
# REQUIRED variables are marked with [REQUIRED]

# =============================================================================
# STRIPE BILLING [REQUIRED]
# =============================================================================
# Supports both test and live mode keys - beacon's stripe_mode determines which to use
# Get keys from: https://dashboard.stripe.com/apikeys

STRIPE_TEST_SECRET_KEY=sk_test_xxx
STRIPE_LIVE_SECRET_KEY=sk_live_xxx
STRIPE_TEST_WEBHOOK_SECRET=whsec_xxx
STRIPE_LIVE_WEBHOOK_SECRET=whsec_xxx
STRIPE_DEFAULT_MODE=test

# =============================================================================
# VPS Providers [AT LEAST ONE REQUIRED]
# =============================================================================
# Configure at least one provider for beacon provisioning

HETZNER_API_TOKEN=                                    # [RECOMMENDED - German, great value]
DIGITALOCEAN_API_TOKEN=
LINODE_API_TOKEN=

# UpCloud (HTTP Basic Auth â€” format: username:password)
UPCLOUD_CREDENTIALS=

# OVH (OpenStack-based, requires all four)
OVH_APPLICATION_KEY=
OVH_APPLICATION_SECRET=
OVH_CONSUMER_KEY=
OVH_PROJECT_ID=

# =============================================================================
# Cloudflare DNS [REQUIRED]
# =============================================================================
# API token with Zone:DNS:Edit permission for wopr.systems

CLOUDFLARE_API_TOKEN=
CLOUDFLARE_ZONE_ID=

# =============================================================================
# SMTP / Email [REQUIRED]
# =============================================================================
SMTP_HOST=smtp.mailgun.org
SMTP_PORT=587
SMTP_USER=postmaster@wopr.systems
SMTP_PASSWORD=
FROM_EMAIL=WOPR <noreply@wopr.systems>
REPLY_TO_EMAIL=support@wopr.systems

# =============================================================================
# PostgreSQL [REQUIRED]
# =============================================================================
DATABASE_URL=postgresql://wopr:changeme@localhost:5432/wopr

# =============================================================================
# Authentik SSO [REQUIRED]
# =============================================================================
AUTHENTIK_URL=https://auth.wopr.systems
AUTHENTIK_API_TOKEN=

# =============================================================================
# Application Settings
# =============================================================================
WOPR_DOMAIN=wopr.systems
JOB_STORE_PATH=/var/lib/wopr/jobs
DOCUMENT_OUTPUT_DIR=/var/lib/wopr/documents
LOG_LEVEL=INFO
LOG_FORMAT=json

# =============================================================================
# CORS (comma-separated origins)
# =============================================================================
CORS_ORIGINS=https://wopr.systems,https://orc.wopr.systems

# =============================================================================
# Redis [OPTIONAL - for caching/job queue at scale]
# =============================================================================
# REDIS_URL=redis://localhost:6379/0
