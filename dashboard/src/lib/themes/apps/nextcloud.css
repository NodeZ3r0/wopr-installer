/**
 * WOPR Theme Override: Nextcloud
 * ==============================
 *
 * Maps WOPR theme variables to Nextcloud's CSS.
 * Nextcloud uses a mix of CSS variables and hardcoded colors.
 *
 * Compatibility: FULL
 * Tested with: Nextcloud 28+
 */

/* ========================================
   NEXTCLOUD CSS VARIABLE OVERRIDES
   ======================================== */

:root {
	/* Primary brand color - used for header, buttons, links */
	--color-primary: var(--theme-primary) !important;
	--color-primary-hover: var(--theme-primary-hover) !important;
	--color-primary-light: var(--theme-primary-subtle) !important;
	--color-primary-element: var(--theme-primary) !important;
	--color-primary-element-hover: var(--theme-primary-hover) !important;
	--color-primary-element-light: var(--theme-primary-subtle) !important;

	/* Text colors */
	--color-primary-text: var(--theme-text-on-primary) !important;
	--color-primary-element-text: var(--theme-text-on-primary) !important;

	/* Background colors */
	--color-main-background: var(--theme-bg) !important;
	--color-main-background-translucent: var(--theme-bg) !important;
	--color-background-hover: var(--theme-surface-hover) !important;
	--color-background-dark: var(--theme-surface) !important;

	/* Border colors */
	--color-border: var(--theme-border) !important;
	--color-border-dark: var(--theme-border) !important;

	/* Text */
	--color-main-text: var(--theme-text) !important;
	--color-text-maxcontrast: var(--theme-text-muted) !important;
	--color-text-light: var(--theme-text-muted) !important;

	/* Success/Warning/Error - keep semantic but allow accent influence */
	--color-success: var(--theme-success) !important;
	--color-warning: var(--theme-warning) !important;
	--color-error: var(--theme-error) !important;

	/* Loading indicator */
	--color-loading-light: var(--theme-primary-subtle) !important;
	--color-loading-dark: var(--theme-primary) !important;

	/* Box shadow with theme color */
	--color-box-shadow: rgba(0, 0, 0, 0.3) !important;
}

/* ========================================
   HEADER
   ======================================== */

#header {
	background-color: var(--theme-surface) !important;
	border-bottom: 1px solid var(--theme-border) !important;
}

#header .header-appname-container {
	color: var(--theme-text) !important;
}

#header .icon-menu {
	filter: brightness(0) invert(1);
}

/* App menu in header */
#header #appmenu li a {
	color: var(--theme-text) !important;
}

#header #appmenu li a:hover,
#header #appmenu li a.active {
	background-color: var(--theme-primary) !important;
	color: var(--theme-text-on-primary) !important;
}

#header #appmenu li a.active::before {
	border-bottom-color: var(--theme-primary) !important;
}

/* ========================================
   NAVIGATION SIDEBAR
   ======================================== */

#app-navigation {
	background-color: var(--theme-surface) !important;
	border-right: 1px solid var(--theme-border) !important;
}

#app-navigation li > a {
	color: var(--theme-text) !important;
}

#app-navigation li > a:hover,
#app-navigation li > a:focus {
	background-color: var(--theme-surface-hover) !important;
}

#app-navigation li.active > a,
#app-navigation li.selected > a {
	background-color: var(--theme-primary-subtle) !important;
	color: var(--theme-primary) !important;
}

#app-navigation .app-navigation-entry-utils-menu-button {
	color: var(--theme-text-muted) !important;
}

/* ========================================
   BUTTONS
   ======================================== */

.button.primary,
.primary.button,
button.primary,
input[type="submit"].primary {
	background-color: var(--theme-primary) !important;
	border-color: var(--theme-primary) !important;
	color: var(--theme-text-on-primary) !important;
}

.button.primary:hover,
.primary.button:hover,
button.primary:hover {
	background-color: var(--theme-primary-hover) !important;
	border-color: var(--theme-primary-hover) !important;
}

.button,
button,
input[type="submit"] {
	border-color: var(--theme-border) !important;
	background-color: var(--theme-surface) !important;
	color: var(--theme-text) !important;
}

.button:hover,
button:hover {
	background-color: var(--theme-surface-hover) !important;
}

/* ========================================
   FORMS
   ======================================== */

input[type="text"],
input[type="password"],
input[type="email"],
input[type="url"],
input[type="search"],
textarea,
select {
	background-color: var(--theme-surface) !important;
	border-color: var(--theme-border) !important;
	color: var(--theme-text) !important;
}

input:focus,
textarea:focus,
select:focus {
	border-color: var(--theme-primary) !important;
	box-shadow: 0 0 0 2px var(--theme-primary-subtle) !important;
}

/* Checkbox/Radio */
input[type="checkbox"]:checked,
input[type="radio"]:checked {
	background-color: var(--theme-primary) !important;
	border-color: var(--theme-primary) !important;
}

/* ========================================
   LINKS
   ======================================== */

a {
	color: var(--theme-primary) !important;
}

a:hover {
	color: var(--theme-primary-hover) !important;
}

/* ========================================
   CONTENT AREA
   ======================================== */

#content {
	background-color: var(--theme-bg) !important;
}

#content-wrapper {
	background-color: var(--theme-bg) !important;
}

/* ========================================
   FILE LIST
   ======================================== */

#filestable {
	background-color: var(--theme-bg) !important;
}

#filestable tbody tr {
	border-bottom: 1px solid var(--theme-border-subtle) !important;
}

#filestable tbody tr:hover {
	background-color: var(--theme-surface-hover) !important;
}

#filestable tbody tr.selected {
	background-color: var(--theme-primary-subtle) !important;
}

.files-list__row-name-link {
	color: var(--theme-text) !important;
}

/* ========================================
   MODALS & DIALOGS
   ======================================== */

.modal-container,
.oc-dialog {
	background-color: var(--theme-surface) !important;
	border: 1px solid var(--theme-border) !important;
}

.modal-header {
	background-color: var(--theme-elevated) !important;
	border-bottom: 1px solid var(--theme-border) !important;
}

/* ========================================
   TOOLTIPS & POPOVERS
   ======================================== */

.tooltip-inner,
.popover {
	background-color: var(--theme-elevated) !important;
	color: var(--theme-text) !important;
	border: 1px solid var(--theme-border) !important;
}

/* ========================================
   SCROLLBARS (Webkit)
   ======================================== */

::-webkit-scrollbar {
	width: 8px;
	height: 8px;
}

::-webkit-scrollbar-track {
	background: var(--theme-bg);
}

::-webkit-scrollbar-thumb {
	background: var(--theme-border);
	border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
	background: var(--theme-text-muted);
}
